<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="wk_workflow_ponctuel_action" model="ir.actions.act_window">
        <field name="name">طلب التمويل المؤقت</field>
        <field name="res_model">wk.workflow.ponctuel</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_filter_creation_date': 1}</field>
    </record>
    <record id="wk_workflow_ponctuel_action_agence" model="ir.actions.act_window">
        <field name="name">طلب التمويل المؤقت</field>
        <field name="res_model">wk.workflow.ponctuel</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_filter_creation_date': 1}</field>
    </record>
    <record id="view_wk_workflow_ponctuel_tree" model="ir.ui.view">
        <field name="name">wk.workflow.ponctuel.tree</field>
        <field name="model">wk.workflow.ponctuel</field>
        <field name="arch" type="xml">
            <tree duplicate="false" delete="0">
                <field name="name"/>
                <field name="date"/>
                <field name="date_fin"/>
                <field name="branche"/>
                <field name="nom_client"/>
                <field name="chiffre_affaire"/>
                <field name="montant_demande"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <record id="view_wk_workflow_ponctuel_search" model="ir.ui.view">
        <field name="name">wk.workflow.ponctuel.search</field>
        <field name="model">wk.workflow.ponctuel</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="branche"/>
                <field name="nom_client"/>
                <field name="state"/>
                <filter string="تاريخ البدء" name="filter_creation_date" date="date"
                        default_period="this_year,this_month"/>
                <filter string="تاريخ الانتهاء" name="filter_fin_date" date="date_fin"
                        default_period="this_year,this_month"/>
                <filter string="Dossier Archivé" name="archived" domain="[('active', '=', False)]"/>

                <group expand="1" string="Group By">
                    <filter string="الفرع" name="group_by_branch"
                            context="{'group_by': 'branche'}"/>
                    <filter string="المتعامل" name="group_by_client" context="{'group_by': 'nom_client'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="view_wk_workflow_ponctuel_form" model="ir.ui.view">
        <field name="name">wk.workflow.ponctuel.form</field>
        <field name="model">wk.workflow.ponctuel</field>
        <field name="arch" type="xml">
            <form create="0" duplicate="false" delete="0">
                <header>
                    <button type="action" name="%(dept_comm.global_report)d" class="btn-primary" string="التقرير النهائي"
                            width="10%"/>

                    <button type="object" name="relance" class="btn-secondary" string="Relancer"
                            invisible="state in ['1','11']"
                            width="10%"/>
                    <button type="object" name="a_revoir" class="btn-secondary" string="للمراجعة"
                            invisible="state in ['1','11']"
                            width="10%"/>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="open_tracking"
                                type="object"
                                class="oe_stat_button"
                                icon="fa-history">
                        </button>
                        <button name="open_messages"
                                type="object"
                                icon="fa-regular fa-envelope"/>
                    </div>
                    <div class="oe_title content">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>
                    <div invisible="raison_refus == False" style="border: 2px solid;
                                border-radius: 12px;
                                border-style: dashed;
                                border-color: #ff2345;
                                margin-bottom: 2px;
                                padding: 5px;">
                        <group>
                            <field name="raison_refus" readonly="1"/>
                        </group>
                    </div>
                    <div>
                        <group col="1">
                            <group>
                                <field name="date"/>
                                <field name="nom_client" readonly="state != '1'" context="{'default_is_client':True}"
                                       domain="[('is_client', '=', True)]" options="{'no_create': True}"/>
                                <field name="num_compte" readonly="1"/>
                                <field name="branche" readonly="1"/>
                                <field name="active" invisible="1"/>
                                <field name="lanced" invisible="1"/>
                                <field name="workflow_old" options="{'no_create': True}"
                                       domain="[('nom_client', '=', nom_client)]"/>
                                <field name="explanation"/>
                            </group>
                            <field name="plan_ids" >
                                <tree editable="bottom">
                                    <field name="contrat_type"/>
                                    <field name="name"/>
                                    <field name="montant_ht"/>
                                    <field name="date_debut"/>
                                    <field name="niveau" widget="percentage"/>
                                    <field name="besoin"/>
                                </tree>
                            </field>
                        </group>
                        <group col="3">
                            <group>
                                <button type="object" name="action_start" class="btn-primary"
                                        string="تحميل البيانات السابقة" style="width: 200px; height:200px;margin: 20px"
                                        invisible="workflow_old == False"/>
                            </group>
                            <group>
                                <button type="object" name="get_data_t24" class="btn-primary"
                                        style="width: 200px; height:200px;margin: 20px"
                                        string="تحميل البيانات المالية"/>
                            </group>
                            <group>
                                <button type="object" name="get_data" class="btn-primary"
                                        style="width: 200px; height:200px;margin: 20px"
                                        string="بدء دراسة الملف"/>
                            </group>
                        </group>
                    </div>
                    <field name="states" invisible="lanced == False" widget="kanban">
                        <kanban create="0">
                            <field name="etape"/>
                            <field name="user_id"/>
                            <field name="sequence"/>
                            <templates>
                                <t t-name="kanban-box">
                                    <div t-att-class="oe_kanban_global_click"
                                         style="border: 2px solid rgb(24, 110, 100, 0.5); border-radius: 5px;">
                                        <div t-attf-class="o_kanban_card_header">
                                            <div class="o_kanban_card_header_title">
                                                <div class="o_primary" style="font-size:16px; font-weight: bold;">
                                                    <field name="name"/>
                                                </div>
                                            </div>
                                            <div style="position: absolute; top: 5px; left: 5px;">
                                                <field name="state_compute" widget="percentage"
                                                       style="color: #4CAF50; font-weight: bold"/>
                                            </div>
                                        </div>
                                        <div t-attf-class="o_kanban_card_content">
                                            <div style="margin-top: 5px;">
                                                <span>المكلف بالملف:</span>
                                                <field name="user_id"/>
                                            </div>
                                            <div style="margin-top: 5px; position: absolute; bottom: 5px; left: 5px;">
                                                <button type="object" name="action_get_view" string="انظر مزيد"
                                                        class="btn-primary"/>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                            </templates>
                        </kanban>
                    </field>

                    <!--<div>
                        <div>
                            <div class="oe_title">
                                <h1>
                                    الوثائق المرفقة مع الطلب الحالي
                                </h1>
                            </div>
                            <field name="documents" nolabel="1"
                                   readonly="state != '1'">
                                <tree editable="bottom" delete="0">
                                    <field name="list_doc"/>
                                    <field name="document" widget="binary" filename="list_doc"
                                           readonly="checked == True"/>
                                    <field name="note" readonly="checked != True"/>
                                    <field name="checked" column_invisible="True"/>
                                    <field name="list_document" column_invisible="True"/>
                                </tree>
                            </field>
                        </div>
                        <group string="تقرير الزيارة" col="2">
                            <group>
                                <field name="classification" readonly="1"
                                       options="{'no_create': True, 'no_open': True}"/>
                                <field name="adress_siege" readonly="1"/>
                                <field name="wilaya" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                                <field name="nif" readonly="1"/>
                                <field name="num_registre_commerce" readonly="1"/>
                                <field name="date_inscription" readonly="1"/>
                                <field name="date_debut_activite" readonly="1"/>
                                <field name="activite" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                                <field name="activite_sec" readonly="1"/>
                            </group>
                            <group>
                                <field name="activity_code" readonly="1"/>
                                <field name="activity_description" readonly="1"/>
                                <field name="phone" readonly="1" style="direction: ltr;text-align: right;"/>
                                <field name="email" readonly="1" widget="email"/>
                                <field name="siteweb" readonly="1"/>
                                <field name="gerant" readonly="state != '1'"
                                       options="{'no_create': True, 'no_open': True}"
                                       context="{'default_parent_id': nom_client, 'default_is_client':True}"/>
                                <field name="partner_id" readonly="1" invisible="1"/>
                                <field name="phone_gerant" readonly="1" style="direction: ltr;text-align: right;"/>
                                <field name="email_gerant" readonly="1"/>
                                <field name="email_to" invisible="1"/>
                                <field name="forme_jur" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                                <field name="currency_id" invisible="1"/>
                                <field name="chiffre_affaire"
                                       readonly="1"
                                       widget="monetary"
                                       options="{'currency_field': 'currency_id'}"/>
                                <field name="chiffre_affaire_creation"
                                       readonly="1"
                                       widget="monetary"
                                       options="{'currency_field': 'currency_id'}"/>
                            </group>
                        </group>
                        <notebook string="معرفة عميلك">
                            <page string="تفاصيل التسهيلات الممنوحة (KDA)">
                                <field name="facilite_accorde" width="100%">
                                    <tree editable="bottom">
                                        <field name="type_demande_ids" options="{'no_create': True}"
                                               domain="[('for_branch', '=', False)]"
                                               width="15%" widget="many2many_tags"/>
                                        <field name="date" width="10%"/>
                                        <field name="montant_da_actuel" width="15%"/>
                                        <field name="montant_dollar_actuel" optional="hide"/>
                                        <field name="montant_da_demande" width="15%"/>
                                        <field name="montant_dollar_demande" optional="hide"/>
                                        <field name="montant_da_total" width="15%"/>
                                        <field name="montant_dollar_total" optional="hide"/>
                                        <field name="garantie_montant" widget="percentage" width="15%"/>
                                        <field name="compute_exist" column_invisible="True"/>
                                        <field name="remarques" width="10%"/>
                                    </tree>
                                </field>
                                <group>
                                    <field name="garanties_demande_ids" widget="many2many_tags"
                                           readonly="state not in ['1', '2']"/>
                                </group>
                            </page>
                            <page string="توزيع راس مال الشركة">
                                <field name="apropos" width="100%"
                                       readonly="state != '1'">
                                    <tree editable="bottom">
                                        <field name="nom_partenaire" width="20%"/>
                                        <field name="age" width="20%"/>
                                        <field name="statut_partenaire" width="20%"/>
                                        <field name="nationalite" width="20%"/>
                                        <field name="pourcentage" sum="Total" widget="percentage" width="20%"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="اعرف عميلك KYC">
                                <field name="kyc"
                                       readonly="state != '1'">
                                    <tree create="0" delete="0" editable="bottom">
                                        <field name="info" style="text-align: center" readonly="1"/>
                                        <field name="answer"/>
                                        <field name="detail"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="فريق التسيير">
                                <group>
                                    <field name="gestion" width="100%"
                                           readonly="state != '1'">
                                        <tree editable="bottom">
                                            <field name="name" width="20%"/>
                                            <field name="job" width="20%"/>
                                            <field name="niveau_etude" width="20%"/>
                                            <field name="age" width="20%"/>
                                            <field name="experience" width="20%"/>
                                        </tree>
                                    </field>
                                </group>
                            </page>
                            <page string="الوضعية المالية لدى الغير">
                                <group>
                                    <field name="situations" width="100%"
                                           readonly="state != '1'">
                                        <tree editable="bottom">
                                            <field name="banque" width="20%"/>
                                            <field name="type_fin" width="20%"/>
                                            <field name="montant" width="20%"/>
                                            <field name="encours" width="20%"/>
                                            <field name="garanties" width="20%"/>
                                        </tree>
                                    </field>
                                    <field name="situations_fin"
                                           readonly="state != '1'">
                                        <tree editable="bottom" delete="0" create="0">
                                            <field name="type" readonly="1"
                                                   decoration-bf="sequence == 0"/>
                                            <field name="year1"
                                                   decoration-bf="sequence == 0"/>
                                            <field name="year2"
                                                   decoration-bf="sequence == 0"/>
                                            <field name="sequence" column_invisible="True"/>
                                        </tree>
                                    </field>
                                </group>
                            </page>
                            <page string="الموردون و الزبائن">
                                <group>
                                    <field name="fournisseur"
                                           readonly="state != '1'">
                                        <tree editable="bottom">
                                            <field name="name"/>
                                            <field name="country" domain="[('to_show', '=', False)]"/>
                                            <field name="type_payment" widget="many2many_tags"/>
                                        </tree>
                                    </field>
                                    <field name="client"
                                           readonly="state != '1'">
                                        <tree editable="bottom">
                                            <field name="name"/>
                                            <field name="country" domain="[('to_show', '=', False)]"/>
                                            <field name="type_payment" widget="many2many_tags"/>
                                        </tree>
                                    </field>
                                </group>
                            </page>
                            <page string="معلومات حول الشركات ذات الصلة (KDA)" invisible="1">
                                <field name="companies"
                                       readonly="state != '1'">
                                    <tree editable="bottom">
                                        <field name="name" width="10%"/>
                                        <field name="date_creation" width="10%"/>
                                        <field name="activite" options="{'no_create': True}" width="20%"/>
                                        <field name="chiffre_affaire" width="20%"/>
                                        <field name="n1_num_affaire" width="20%"/>
                                        <field name="n_num_affaire" width="20%"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <group col="2" string="نبذة عن نشاط الشركة">
                            <field name="description_company"
                                   readonly="state != '1'"/>
                            <field name="interet_company"
                                   readonly="state != '1'"/>
                            <field name="unit_prod"
                                   readonly="state != '1'"/>
                            <field name="stock"
                                   readonly="state != '1'"/>
                            <field name="prod_company"
                                   readonly="state != '1'"/>
                            <field name="politique_comm"
                                   readonly="state != '1'"/>
                            <field name="cycle_exploit"
                                   readonly="state != '1'"/>
                            <field name="concurrence"
                                   readonly="state != '1'"/>
                            <field name="program_invest"
                                   readonly="state != '1'"/>
                        </group>
                        <group col="2" string="">
                            <field name="avis_conseil"
                                   readonly="state != '1'"/>
                            <field name="recommendation_agence"
                                   readonly="state != '1'"/>
                        </group>
                    </div>
                    <div invisible="state == '1'">
                        <group>
                            <field name="assigned_to_commercial"/>
                            <field name="taux_change"/>
                        </group>
                        <notebook>
                            <page string="تفاصيل التسهيلات الممنوحة (KDA)">
                                <field name="facilite_accorde" width="100%">
                                    <tree editable="bottom">
                                        <field name="type_demande_ids" options="{'no_create': True}"
                                               domain="[('for_branch', '=', False)]"
                                               width="15%" widget="many2many_tags"/>
                                        <field name="date" width="10%"/>
                                        <field name="montant_da_actuel" width="15%"/>
                                        <field name="montant_dollar_actuel" optional="hide"/>
                                        <field name="montant_da_demande" width="15%"/>
                                        <field name="montant_dollar_demande" optional="hide"/>
                                        <field name="montant_da_total" width="15%"/>
                                        <field name="montant_dollar_total" optional="hide"/>
                                        <field name="garantie_montant" widget="percentage" width="15%"/>
                                        <field name="compute_exist" column_invisible="True"/>
                                        <field name="remarques" width="10%"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="تفاصيل الضمانات">
                                <h6>الضمانات العقارية الحالية</h6>
                                <field name="detail_garantie_actuel_ids">
                                    <tree editable="bottom">
                                        <field name="type_garantie" options="{'no_create': True}"/>
                                        <field name="type_contrat" options="{'no_create': True}"/>
                                        <field name="montant"/>
                                        <field name="date"/>
                                        <field name="recouvrement" widget="percentage"/>
                                        <field name="niveau"/>
                                    </tree>
                                </field>
                                <group>
                                    <field name="garantie_actuel_comment"/>
                                </group>
                                <h6>الضمانات العقارية المقترحة</h6>
                                <field name="detail_garantie_propose_ids">
                                    <tree editable="bottom">
                                        <field name="type_garant" options="{'no_create': True}"/>
                                        <field name="type_contrat" options="{'no_create': True}"/>
                                        <field name="montant"/>
                                        <field name="date"/>
                                        <field name="recouvrement" widget="percentage"/>
                                        <field name="niveau"/>
                                    </tree>
                                </field>
                                <group>
                                    <field name="garantie_propose_comment"/>
                                </group>
                            </page>
                            <page string='الشروط السابقة/المقترحة و الموافق عليها من لجان التمويل'>
                                <field name="garantie_conf">
                                    <tree editable="bottom">
                                        <field name="info"/>
                                        <field name="answer"/>
                                        <field name="detail"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='الشروط المالية'>
                                <field name="garantie_fin">
                                    <tree editable="bottom">
                                        <field name="info"/>
                                        <field name="answer"/>
                                        <field name="detail"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='الشروط الاخرى'>
                                <field name="garantie_autres">
                                    <tree editable="bottom">
                                        <field name="info"/>
                                        <field name="answer"/>
                                        <field name="detail"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <notebook>
                            <page string="مركزية المخاطر (KDA)">
                                <group>
                                    <group>
                                        <field name="risque_date"/>
                                    </group>
                                    <group>
                                        <field name="nbr_banque"/>
                                    </group>
                                </group>
                                <field name="risque_central">
                                    <tree create="0"
                                          delete="0">
                                        <field name="declaration" readonly="1"/>
                                        <field name="montant_esalam_dz_donne"/>
                                        <field name="montant_esalam_dollar_donne" optional="hide"/>
                                        <field name="montant_esalam_dz_used"/>
                                        <field name="montant_esalam_dollar_used" optional="hide"/>
                                        <field name="montant_other_dz_donne"/>
                                        <field name="montant_other_dollar_donne" optional="hide"/>
                                        <field name="montant_other_dz_used"/>
                                        <field name="montant_other_dollar_used" optional="hide"/>
                                        <field name="montant_total_dz_donne"/>
                                        <field name="montant_total_dollar_donne" optional="hide"/>
                                        <field name="montant_total_dz_used"/>
                                        <field name="montant_total_dollar_used" optional="hide"/>
                                    </tree>
                                </field>
                                <group>
                                    <field name="comment_risk_central"/>
                                    <field name="capture_filename" invisible="1"/>
                                    <field name="risk_capture" filename="capture_filename" class="col-6"/>
                                </group>
                            </page>
                            <page string="الوضعية الجبائية وشبه الجبائية">
                                <field name="position_tax">
                                    <tree editable="bottom" create="0" delete="0">
                                        <field name="name" readonly="1"/>
                                        <field name="adversite"/>
                                        <field name="non_adversite"/>
                                        <field name="notes"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="الحركة والأعمال الجانبية للحساب مع مصرف السلام الجزائر (KDA)">
                                <field name="mouvement">
                                    <tree create="0" editable="bottom">
                                        <field name="mouvement" decoration-bf="sequence == 0" readonly="1"/>
                                        <field name="n3_dz" decoration-bf="sequence == 0"
                                               readonly="sequence in [ 3]"/>
                                        <field name="n3_dollar" optional="hide" readonly="sequence in [3]"/>
                                        <field name="n2_dz" decoration-bf="sequence == 0"
                                               readonly="sequence in [3]"/>
                                        <field name="n2_dollar" optional="hide" readonly="sequence in [3]"/>
                                        <field name="n1_dz" decoration-bf="sequence == 0"
                                               readonly="sequence in [3]"/>
                                        <field name="n1_dollar" optional="hide" readonly="sequence in [3]"/>
                                        <field name="n_dz" decoration-bf="sequence == 0" readonly="sequence in [3]"/>
                                        <field name="n_dollar" optional="hide" readonly="sequence in [3]"/>
                                        <field name="remarques" readonly="sequence == 0"/>
                                        <field name="sequence" column_invisible="True"/>
                                    </tree>
                                </field>
                                <group>
                                    <field name="detail_mouvement"/>
                                </group>
                            </page>
                        </notebook>
                        <notebook>
                            <page string="البيانات المالية الموجزة للشركات ذات الصلة (KDA)" invisible="1">
                                <field name="companies_fisc" readonly="state != '2'">
                                    <tree editable="bottom" create="0" delete="0">
                                        <field name="declaration" readonly="1"
                                               decoration-bf="sequence == 0"/>
                                        <field name="year_3" readonly="sequence == 0" decoration-bf="sequence == 0"/>
                                        <field name="year_4" readonly="sequence == 0" decoration-bf="sequence == 0"/>
                                        <field name="sequence" column_invisible="True"/>
                                    </tree>
                                </field>
                                <group>
                                    <field name="comment_fisc" readonly="state != '2'"/>
                                </group>
                            </page>
                            <page string="التسهيلات القائمة مع المصرف">
                                <field name="facitlite_existante" width="100%"
                                       readonly="state != '2'">
                                    <tree editable="bottom">
                                        <field name="company" width="10%"/>
                                        <field name="facilite" options="{'no_create': True}" column_invisible="True"/>
                                        <field name="type_demande_ids" width="10%" domain="[('for_branch', '=', False)]"
                                               options="{'no_create': True}" widget="many2many_tags"/>
                                        <field name="brut_da" sum="Total facilities" width="20%"/>
                                        <field name="brut_dollar" sum="Total facilities" optional="hide"/>
                                        <field name="net_da" sum="Total facilities" width="20%"/>
                                        <field name="net_dollar" sum="Total facilities" optional="hide"/>
                                        <field name="garanties" widget="many2many_tags" options="{'no_create': True}"
                                               width="20%"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="الحركة والأعمال الجانبية للمجموعة مع مصرف السلام الجزائر (KDA)" invisible="1">
                                <field name="mouvement_group" readonly="state !='2'">
                                    <tree editable="bottom">
                                        <field name="company" readonly="'السنة' == company"/>
                                        <field name="n2_dz" readonly="'السنة' == company"/>
                                        <field name="n2_dollar" optional="hide" readonly="'السنة' == company"/>
                                        <field name="n1_dz" readonly="'السنة' == company"/>
                                        <field name="n1_dollar" optional="hide" readonly="'السنة' == company"/>
                                        <field name="n_dz" readonly="'السنة' == company"/>
                                        <field name="n_dollar" optional="hide" readonly="'السنة' == company"/>
                                        <field name="remarques" readonly="'السنة' == company"/>
                                        <field name="sequence" column_invisible="True"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <notebook invisible="state in ['1']">
                            <page string="البيانات المالية للشركة (KDA)">
                                <group>
                                    <field name="bilan_id">
                                        <tree editable="bottom" create="0" delete="0">
                                            <field name="declaration" readonly="1"
                                                   decoration-bf="sequence == 0"/>
                                            <field name="year_3"
                                                   decoration-bf="sequence == 0" decoration-danger="is_null_3 == True"/>
                                            <field name="year_4"
                                                   decoration-bf="sequence == 0" decoration-danger="is_null_4 == True"/>

                                            <field name="sequence" column_invisible="True"/>
                                            <field name="is_null_1" column_invisible="True"/>
                                            <field name="is_null_2" column_invisible="True"/>
                                            <field name="is_null_3" column_invisible="True"/>
                                            <field name="is_null_4" column_invisible="True"/>
                                        </tree>
                                    </field>
                                    <group>
                                        <field name="comment_bilan" readonly="state != '2'"/>
                                    </group>
                                </group>
                            </page>
                            <page string="ملخص للبيانات">
                                <div col="2" class="swot_table">
                                    <field name="var_ids" class="swot_element">
                                        <tree editable="bottom" create="0" delete="0">
                                            <field name="var"/>
                                            <field name="montant"/>
                                        </tree>
                                    </field>
                                    <field name="recap_ids" readonly="state != '2'"
                                           class="swot_element">
                                        <tree editable="bottom" create="0" delete="0">
                                            <field name="declaration" readonly="1"/>
                                            <field name="montant"/>
                                        </tree>
                                    </field>
                                </div>
                            </page>
                        </notebook>
                        <h6 invisible="state in ['1']">SWOT</h6>
                        <br/>
                        <div class="swot_table" invisible="state in ['1']">
                            <field name="weakness_ids" style="background-color: #F4A460;" class="swot_element"
                                   readonly="state != '2'">
                                <tree editable="bottom">
                                    <field name="name"/>
                                </tree>
                            </field>
                            <field name="strength_ids" style="background-color: #90EE90;" class="swot_element"
                                   readonly="state != '2'">
                                <tree editable="bottom">
                                    <field name="name"/>
                                </tree>
                            </field>
                        </div>
                        <div class="swot_table" invisible="state in ['1']">
                            <field name="opportunitie_ids" style="background-color: #87CEFA;" class="swot_element"
                                   readonly="state != '2'">
                                <tree editable="bottom">
                                    <field name="name"/>
                                </tree>
                            </field>
                            <field name="threat_ids" style="background-color: #CD5C5C;" class="swot_element"
                                   readonly="state != '2'">
                                <tree editable="bottom">
                                    <field name="name"/>
                                </tree>
                            </field>
                        </div>
                        <group invisible="state in ['1']">
                            <field name="facilite_propose" readonly="state not in ['1', '2']">
                                <tree editable="bottom">
                                    <field name="type_demande_ids" domain="[('for_branch', '=', False)]"
                                           options="{'no_create': True}" widget="many2many_tags"/>
                                    <field name="montant_dz" sum="Total"/>
                                    <field name="montant_dollar" sum="Total"/>
                                    <field name="preg"/>
                                    <field name="duree"/>
                                    <field name="compute_exist" column_invisible="True"/>
                                    <field name="condition"/>
                                </tree>
                            </field>
                            <field name="garantie_ids" widget="many2many_tags"
                                   readonly="state not in ['1', '2']"/>
                            <field name="analyse_secteur_act"
                                   readonly="state != '2'"
                                   invisible="state in ['1']"/>
                            <field name="analyse_concurrence" readonly="state != '2'"
                                   invisible="state in ['1']"/>
                            <field name="ampleur_benefice" readonly="state != '2'"
                                   invisible="state in ['1']"/>
                            <field name="analyse_relation" readonly="state != '2'"
                                   invisible="state in ['1']"/>
                            <field name="recommendation_1"
                                   readonly="state != '2'"/>
                        </group>
                    </div>-->
                    <div>
                        <group>
                            <field name="recommendation_2" invisible="state in ['1','2']" readonly="state != '3'"/>
                        </group>
                    </div>
                    <div>
                        <button name="action_open_risk" type="object" string="انقر هنا لدراسة المخاطر"
                                class="button_secondary" invisible="state in ['1','2','3']"/>
                        <group>
                            <field name="recommendation_3" invisible="state in ['1','2','3']" readonly="state != '4'"/>
                        </group>
                    </div>
                    <div>
                        <group>
                            <field name="recommendation_4" invisible="state in ['1','2','3', '4']"
                                   readonly="state != '5'"/>
                        </group>
                    </div>
                    <div>
                        <group>
                            <field name="recommendation_5" invisible="state in ['1','2','3', '4', '5']"
                                   readonly="state != '6'"/>
                        </group>
                    </div>
                    <div>
                        <group>
                            <field name="recommendation_6" invisible="state in ['1','2','3', '4', '5', '6']"
                                   readonly="state != '7'"/>
                        </group>
                    </div>
                    <div>
                        <group>
                            <field name="recommendation_7" invisible="state in ['1','2','3', '4', '5', '6', '7']"
                                   readonly="state != '8'"/>
                        </group>
                    </div>
                    <div>
                        <group>
                            <field name="recommendation_8" invisible="state in ['1','2','3', '4', '5', '6', '7', '8']"
                                   readonly="state != '9'"/>
                        </group>
                    </div>
                    <div>
                        <group>
                            <field name="recommendation_9"
                                   invisible="state in ['1','2','3', '4', '5', '6', '7', '8', '9']"
                                   readonly="state != '10'"/>
                        </group>
                    </div>
                    <button type="object" name="validate_information" string="تأكيد المعلومات"
                            class="button_confirm" invisible="state in ['1', '2', '11']"/>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>
    <menuitem id="wk_workflow_ponctuel_global_menu"
              name="طلبات التمويل المؤقتة"
              sequence="1"
              parent="dept_wk.wk_workflow_dashboard_menu"
              action="wk_workflow_ponctuel_action"/>
    <menuitem id="dept_comm_menu"
              name="Workflow Ponctuel"
              web_icon="dept_comm,static/description/icon.png"
              sequence="0">
        <menuitem id="wk_workflow_ponctuel_dashboard_menu"
                  name="طلبات التمويل المؤقتة"
                  sequence="1"
                  action="wk_workflow_ponctuel_action"/>
    </menuitem>
    <record id="scoring_inherit_view_form" model="ir.ui.view">
        <field name="name">risk.scoring.inherit.view.form</field>
        <field name="model">risk.scoring</field>
        <field name="mode">primary</field>
        <field name="inherit_id" ref="dept_wk.view_risk_scoring_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='group_scorings']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
    </record>

</odoo>
